{"version":3,"sources":["components/Person.js","components/Persons.js","components/Notification.js","components/Filter.js","components/AddNew.js","services/Contacts.js","App.js","index.js"],"names":["Person","props","person","name","number","onClick","deletePerson","id","Persons","list","Notification","notification","type","className","Filter","value","newFilter","onChange","handleFilterChange","AddNew","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","positiveNotification","setPositiveNotification","errorNotification","setErrorNotification","useEffect","Contacts","initialPersons","updateNumber","nameObject","find","changedPerson","p","map","positiveNotificationTime","catch","error","errorNotificationTime","deletePersonById","Boolean","window","confirm","i","newList","filter","deletePersonFromList","setTimeout","event","target","preventDefault","unique","undefined","concat","errorMessage","toLowerCase","includes","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0c21ed39.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = (props) => {\n  return (\n    <li>\n      {props.person.name} {' '}\n      {props.person.number}\n      <button onClick={() => { props.deletePerson(props.person.id) }}>delete</button>\n    </li>\n  )\n}\nexport default Person","import React from 'react'\n\nconst Persons = (props) => {\n    return (\n        props.list\n    )\n}\nexport default Persons","import React from 'react'\n\nconst Notification = (props) => {\n\n    if (props.notification === null) {\n        return (\n            <div></div>\n        )\n    } else {\n        if (props.type === \"error\") {\n            return (\n                <div className=\"error\">\n                    <p>{props.notification}</p>\n                </div>)\n        } else {\n            return (\n                <div className=\"positive\">\n                    <p>{props.notification}</p>\n                </div>)\n        }\n    }\n}\n\nexport default Notification","import React from 'react'\n\nconst Filter = (props) => {\n\n    return (\n        <div>\n            filter shown with: <input value={props.newFilter} onChange={props.handleFilterChange} />\n        </div>\n    )\n}\nexport default Filter","import React from 'react'\n\nconst AddNew = (props) => {\n\n    return (\n        <div>\n            <form onSubmit={props.addPerson}>\n                <div>name: <input value={props.newName} onChange={props.handleNameChange} /> </div>\n                <div>number: <input value={props.newNumber} onChange={props.handleNumberChange} /> </div>\n                <div><button type=\"submit\">add</button></div>\n            </form>\n        </div>\n    )\n}\nexport default AddNew","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => {\n    return response.data\n  })\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst del = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default {\n  getAll: getAll,\n  create: create,\n  update: update,\n  delete: del\n}","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport Filter from './components/Filter'\nimport AddNew from './components/AddNew'\nimport Contacts from './services/Contacts'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [positiveNotification, setPositiveNotification] = useState(null)\n  const [errorNotification, setErrorNotification] = useState(null)\n\n  useEffect(() => {\n    Contacts\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  },\n    [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n    }\n    var unique = new Boolean(true);\n    const person = persons.find(person => person.name === nameObject.name)\n\n    if (person !== undefined) {\n      unique = false\n    }\n\n    if (unique) {\n\n      Contacts\n        .create(nameObject)\n        .then(response => {\n          //setPersons(persons.concat(response.data))\n          setPositiveNotification(`Added ${nameObject.name}`)\n          positiveNotificationTime()\n          setPersons(persons.concat(nameObject))\n\n        })\n        .catch(error => {\n          const errorMessage = error.response.data.error\n          setErrorNotification(`${errorMessage}`)\n          errorNotificationTime()\n        }\n        )\n\n    } else {\n\n      var confirmed = new Boolean(false)\n      confirmed = window.confirm(`${nameObject.name} is already added to phonebook, replace the old number with a new one?`)\n\n      if (confirmed) {\n        updateNumber(nameObject)\n      }\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n\n  const updateNumber = (nameObject) => {\n\n    const person = persons.find(person => person.name === nameObject.name)\n    const id = person.id\n    const newNumber = nameObject.number\n    const changedPerson = { ...person, number: newNumber }\n\n    Contacts\n      .update(person.id, changedPerson)\n      .then(p => {\n        setPersons(persons.map(p => p.id !== id ? p : changedPerson))\n        setPositiveNotification(`Changed the phone number of ${person.name}`)\n        positiveNotificationTime()\n      })\n      .catch(error => {\n        setErrorNotification(`Information of ${person.name} has already been removed from the server`)\n        errorNotificationTime()\n      })\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const getFilteredPersons = () => {\n\n    if (newFilter === null) {\n      return persons\n    } else {\n      return persons.filter(person => person?.name.toLowerCase().includes(newFilter.toLowerCase()))\n    }\n  }\n\n  const deletePersonFromList = (id) => {\n\n    const newList = persons.filter(person => person.id !== id)\n    setPersons(newList)\n  }\n\n  const deletePersonById = (id) => {\n\n    const person = persons.find(person => person.id === id)\n\n    var confirmed = new Boolean(false)\n    confirmed = window.confirm(`Delete ${person.name} ?`)\n\n    if (confirmed) {\n      Contacts.delete(id)\n        .then(i => {\n          deletePersonFromList(id)\n        })\n      setPositiveNotification(`Deleted ${person.name}`)\n      positiveNotificationTime()\n    }\n  }\n\n  const positiveNotificationTime = () => {\n    setTimeout(() => {\n      setPositiveNotification(null)\n    }, 3000)\n  }\n\n  const errorNotificationTime = () => {\n    setTimeout(() => {\n      setErrorNotification(null)\n    }, 3000)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={positiveNotification} type={'positive'} />\n      <Notification notification={errorNotification} type={'error'} />\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n      <AddNew addPerson={addPerson} newName={newName} handleNameChange={handleNameChange}\n        newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <Persons list={getFilteredPersons().map(person =>\n        <Person key={person.id} id={person.id} person={person} deletePerson={deletePersonById} />\n      )} />\n    </div>\n  )\n\n}\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />,document.getElementById('root'))"],"sourceRoot":""}